var W=Object.create;var b=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames,R=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var B=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M=(e,t)=>{for(var n in t||(t={}))w.call(t,n)&&B(e,n,t[n]);if(R)for(var n of R(t))j.call(t,n)&&B(e,n,t[n]);return e};var F=e=>b(e,"__esModule",{value:!0});var T=(e,t)=>{var n={};for(var s in e)w.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&R)for(var s of R(e))t.indexOf(s)<0&&j.call(e,s)&&(n[s]=e[s]);return n};var $=(e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})},I=(e,t,n,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of Z(t))!w.call(e,u)&&(n||u!=="default")&&b(e,u,{get:()=>t[u],enumerable:!(s=Y(t,u))||s.enumerable});return e},C=(e,t)=>I(F(b(e!=null?W(_(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ee=(e=>(t,n)=>e&&e.get(t)||(n=I(F({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var oe={};$(oe,{AddressAutofill:()=>J,AddressMinimap:()=>U,SearchBox:()=>K,config:()=>V.config,useConfirmAddress:()=>Q,useEvented:()=>X,useMapboxAutofill:()=>D,useMapboxSearch:()=>G,useSearchSession:()=>z});var Oe=require("@mapbox/search-js-web"),V=require("@mapbox/search-js-web");var a=C(require("react")),J=a.default.forwardRef((e,t)=>{let{accessToken:n,options:s,theme:u,popoverOptions:l,confirmOnBrowserAutofill:A,browserAutofillEnabled:h,children:x,onChange:d,onSuggest:m,onSuggestError:g,onRetrieve:S,interceptSearch:r}=e,o=(0,a.useRef)();return(0,a.useImperativeHandle)(t,()=>({focus:()=>{if(o.current)return o.current.focus();throw new Error("AddressAutofill is not mounted")}})),(0,a.useEffect)(()=>{o.current&&(o.current.options=s)},[o.current,s]),(0,a.useEffect)(()=>{o.current&&(o.current.interceptSearch=r)},[o.current,s]),(0,a.useEffect)(()=>{o.current&&(o.current.theme=u)},[o.current,u]),(0,a.useEffect)(()=>{o.current&&(o.current.popoverOptions=l)},[o.current,l]),(0,a.useEffect)(()=>{o.current&&(o.current.confirmOnBrowserAutofill=A)},[o.current,A]),(0,a.useEffect)(()=>{o.current&&(o.current.browserAutofillEnabled=h)},[o.current,h]),(0,a.useEffect)(()=>{let i=o.current;if(!i||!m)return;let c=v=>m(v.detail);return i.addEventListener("suggest",c),()=>{i.removeEventListener("suggest",c)}},[o.current,m]),(0,a.useEffect)(()=>{let i=o.current;if(!i||!g)return;let c=v=>g(v.detail);return i.addEventListener("suggesterror",c),()=>{i.removeEventListener("suggesterror",c)}},[o.current,g]),(0,a.useEffect)(()=>{let i=o.current;if(!i||!S)return;let c=v=>S(v.detail);return i.addEventListener("retrieve",c),()=>{i.removeEventListener("retrieve",c)}},[o.current,S]),(0,a.useEffect)(()=>{let i=o.current;if(!i||!d)return;let c=v=>{v.target===v.currentTarget&&d(v.detail)};return i.addEventListener("input",c),()=>{i.removeEventListener("input",c)}},[o.current,d]),(0,a.useEffect)(()=>{o.current&&(o.current.accessToken=n)},[o.current,n]),a.default.createElement("mapbox-address-autofill",{ref:o},x)});var f=C(require("react")),K=f.default.forwardRef((e,t)=>{let{accessToken:n,options:s,theme:u,popoverOptions:l,map:A,value:h,onChange:x,onSuggest:d,onSuggestError:m,onRetrieve:g,interceptSearch:S}=e,r=(0,f.useRef)();return(0,f.useImperativeHandle)(t,()=>({focus:()=>{if(r.current)return r.current.focus();throw new Error("SearchBox is not mounted")}})),(0,f.useEffect)(()=>{r.current&&(r.current.options=s)},[r.current,s]),(0,f.useEffect)(()=>{r.current&&(r.current.interceptSearch=S)},[r.current,s]),(0,f.useEffect)(()=>{r.current&&(r.current.theme=u)},[r.current,u]),(0,f.useEffect)(()=>{r.current&&(r.current.popoverOptions=l)},[r.current,l]),(0,f.useEffect)(()=>{r.current&&(r.current.value=h)},[r.current,h]),(0,f.useEffect)(()=>{let o=r.current;if(!!o)return o.bindMap(A),()=>{o.unbindMap()}},[r.current,A]),(0,f.useEffect)(()=>{let o=r.current;if(!o||!d)return;let i=c=>d(c.detail);return o.addEventListener("suggest",i),()=>{o.removeEventListener("suggest",i)}},[r.current,d]),(0,f.useEffect)(()=>{let o=r.current;if(!o||!m)return;let i=c=>m(c.detail);return o.addEventListener("suggesterror",i),()=>{o.removeEventListener("suggesterror",i)}},[r.current,m]),(0,f.useEffect)(()=>{let o=r.current;if(!o||!g)return;let i=c=>g(c.detail);return o.addEventListener("retrieve",i),()=>{o.removeEventListener("retrieve",i)}},[r.current,g]),(0,f.useEffect)(()=>{let o=r.current;if(!o||!x)return;let i=c=>{c.target===c.currentTarget&&x(c.detail)};return o.addEventListener("input",i),()=>{o.removeEventListener("input",i)}},[r.current,x]),(0,f.useEffect)(()=>{r.current&&(r.current.accessToken=n)},[r.current,n]),f.default.createElement("mapbox-search-box",{ref:r})});var p=C(require("react"));function U(e){let{canAdjustMarker:t=!1,keepMarkerCentered:n=!1,markerAnchor:s="bottom",onSaveMarkerLocation:u,show:l=!1,accessToken:A,feature:h=null,satelliteToggle:x=!1,theme:d,mapStyleMode:m="default",defaultMapStyle:g=["mapbox","streets-v11"],footer:S}=e,r=(0,p.useRef)();return(0,p.useEffect)(()=>{!r.current||(l?r.current.show():r.current.hide())},[r.current,l]),(0,p.useEffect)(()=>{r.current&&(r.current.theme=d)},[r.current,d]),(0,p.useEffect)(()=>{r.current&&(r.current.feature=l?h:null)},[r.current,h,l]),(0,p.useEffect)(()=>{r.current&&(r.current.mapStyleMode=m)},[r.current,m]),(0,p.useEffect)(()=>{r.current&&(r.current.defaultMapStyle=g)},[r.current,g]),(0,p.useEffect)(()=>{S!==void 0&&r.current&&(r.current.footer=S)},[r.current,S]),(0,p.useEffect)(()=>{r.current&&(r.current.accessToken=A)},[r.current,A]),(0,p.useEffect)(()=>{r.current&&(r.current.onSaveMarkerLocation=u)},[r.current,u]),p.default.createElement("mapbox-address-minimap",{ref:r,"can-adjust-marker":t,"keep-marker-centered":n,"marker-anchor":s,"satellite-toggle":x})}var E=require("react");function X(e,t,n){let s=(0,E.useRef)(n);(0,E.useEffect)(()=>{s.current=n}),(0,E.useEffect)(()=>{if(!e)return;let u=l=>s.current(l);return e.addEventListener(t,u),()=>{e.removeEventListener(t,u)}},[e,t,s])}var O=require("react"),P=require("@mapbox/search-js-core"),re=P.MapboxAutofill.defaults;function D(e){let t=(0,O.useMemo)(()=>new P.MapboxAutofill,[]);return(0,O.useEffect)(()=>{let u=e,{accessToken:n}=u,s=T(u,["accessToken"]);t.accessToken=n,t.defaults=M(M({},re),s)},[e]),t}var L=require("react"),H=require("@mapbox/search-js-core"),te=H.MapboxSearch.defaults;function G(e){let t=(0,L.useMemo)(()=>new H.MapboxSearch,[]);return(0,L.useEffect)(()=>{let u=e,{accessToken:n}=u,s=T(u,["accessToken"]);t.accessToken=n,t.defaults=M(M({},te),s)},[e]),t}var k=require("@mapbox/search-js-core"),q=require("react");function z(e){let t=(0,q.useMemo)(()=>new k.SearchSession(e),[e]);return e instanceof k.MapboxSearch,t}var y=require("react"),N=require("@mapbox/search-js-web");function Q(e={}){let t=(0,y.useRef)(null);return(0,y.useMemo)(()=>({formRef:t,showConfirm:()=>(0,N.confirmAddress)(t.current,e)}),[t,e])}module.exports=ee(oe);
//# sourceMappingURL=index.js.map
